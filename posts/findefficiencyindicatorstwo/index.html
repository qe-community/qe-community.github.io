<!doctype html><html lang=en><head><title>寻找软件研发效能的合适指标-中篇 | Quality & Efficiency</title><meta charset=utf-8><meta name=generator content="Hugo 0.62.2"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv=x-ua-compatible content="IE=edge"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="寻找软件研发效能的合适指标-中篇"><meta name=description content="本文由张思楚发表 上篇中，咱们尝试回答了最近几年 “软件研发效能” 为什么会成为业界的热词 “Buzzword” ，有哪些合适的软件研发效能指标这两个问题。接下来希望根据团队的情况，界定的团队上下文，给出一些推荐的度量指标。为了让这些内容更加有上下文和代入感，这里加入本文作为中篇，在本篇里说说下面三个观察和观点。 …"><meta property="og:description" content="本文由张思楚发表 上篇中，咱们尝试回答了最近几年 “软件研发效能” 为什么会成为业界的热词 “Buzzword” ，有哪些合适的软件研发效能指标这两个问题。接下来希望根据团队的情况，界定的团队上下文，给出一些推荐的度量指标。为了让这些内容更加有上下文和代入感，这里加入本文作为中篇，在本篇里说说下面三个观察和观点。 …"><meta property="og:url" content="https://qe-community.github.io/posts/findefficiencyindicatorstwo/"><meta property="og:image" content="images/%!s()"><meta name=twitter:card content="summary_large_image"><meta name=twitter:creator content><meta name=twitter:title content="寻找软件研发效能的合适指标-中篇"><meta property="twitter:description" content="本文由张思楚发表 上篇中，咱们尝试回答了最近几年 “软件研发效能” 为什么会成为业界的热词 “Buzzword” ，有哪些合适的软件研发效能指标这两个问题。接下来希望根据团队的情况，界定的团队上下文，给出一些推荐的度量指标。为了让这些内容更加有上下文和代入感，这里加入本文作为中篇，在本篇里说说下面三个观察和观点。 …"><meta name=twitter:image content="images/%!s()"><link rel=apple-touch-icon sizes=180x180 href=https://qe-community.github.io/images/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://qe-community.github.io/images/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://qe-community.github.io/images/icons/favicon-16x16.png><link rel=manifest href=https://qe-community.github.io/images/icons/site.webmanifest><link rel=canonical href=https://qe-community.github.io/posts/findefficiencyindicatorstwo/><link rel=stylesheet href=https://qe-community.github.io/css/styles.6ba328da9b2468ffc4210bcd8b4ec8ed32660dd03fb42f51c2b33f5f21bbae7527c2a274d5539a33aac440fa9fe1e895c3e106432984a358167c591dca5b6c21.css integrity="sha512-a6Mo2pskaP/EIQvNi07I7TJmDdA/tC9RwrM/XyG7rnUnwqJ01VOaM6rEQPqf4eiVw+EGQymEo1gWfFkdyltsIQ=="></head><body><div class=nav-drop><div class=nav-body><a href=https://qe-community.github.io/about/ class=nav_item>About</a>
<a href=https://qe-community.github.io/authors class=nav_item>Authors</a><div class=nav-close></div></div></div><header class=nav><nav class=nav-menu><a href=https://qe-community.github.io/ class="nav-brand nav_item">Quality & Efficiency</a><div class=nav_bar-wrap><div class=nav_bar></div></div></nav></header><main><section class=post_header style=background-image:url(https://qe-community.github.io/images/thumbnail.svg)><h1 class=post_title>寻找软件研发效能的合适指标-中篇</h1></section><div class=post><article class=post_content><h3 id=本文由张思楚发表>本文由张思楚发表</h3><p><a href=https://qe-community.github.io/posts/findefficiencyindicators/>上篇</a>中，咱们尝试回答了最近几年 “软件研发效能” 为什么会成为业界的热词 “Buzzword” ，有哪些合适的软件研发效能指标这两个问题。接下来希望根据团队的情况，界定的团队上下文，给出一些推荐的度量指标。为了让这些内容更加有上下文和代入感，这里加入本文作为中篇，在本篇里说说下面三个观察和观点。</p><p>###观察和观点一：莫让度量变目标。</p><p>经济学家 查尔斯·古德哈特 在1975提出了<a href=https://zh.wikipedia.org/wiki/%E5%8F%A4%E5%BE%B7%E5%93%88%E7%89%B9%E5%AE%9A%E5%BE%8B>古德哈特定律</a>: When a measure becomes a target, it ceases to be a good measure. “当一个度量本身成为目标时，它就不再是一个好的度量”。根据我们在项目中的观察和经验，古德哈特定律不光适用于经济学领域，一样适用于软件研发领域。此定律在现实中的故事: 在法国殖民时期的越南，那里鼠患成灾，所以当地政府想出办法：为每只死去的老鼠提供奖励，民众只需要上交死老鼠的尾巴。不久之后，越南的街头就出现了没有尾巴的老鼠，人们为了持续盈利，并没有杀死老鼠，而只是切下它的尾巴，等待它去生新老鼠给自己赚钱。在正常情况下，「被切下的老鼠尾巴的数量」与「死去老鼠的数量」正相关，是一个好的指标。可是，一旦政府把「被切下的老鼠尾巴的数量」变成大家的优化目标，就会产生未曾预料到的结果。简单来说，这种度量变成了目标，驱动并产生了“上有政策，下有对策。” 在软件研发领域里，当你度量团队产出的代码行数并设置目标时，比如: 800行/人天，聪明的程序员，就会被驱动去优化「代码行数」并让它达到目标。比如: 多加点中间变量，多加点注释，多抽点方法和测试，目标不就达成了吗? (曾见过方法实现只有两行代码，注释20多行，而且在工程里经常看到类似的注释和方法。) 这种目标度量会给业务带来价值吗? 再比如你度量并设置团队每个迭代需要完成Story的点数或者个数的时候，比如: 20点/迭代，团队就会被驱动优化「Story点数」并让它达到目标。比如: BA和Dev在开迭代计划会议的时候多估算一点，多拆一些卡，目标不就达成了吗？(曾听到有团队的卡墙上有一张三个点的Team Building卡。 Create DB这种操作原来估1个点，现在估3个点。为了不影Cycle time的统计, 由于第三方依赖阻塞的卡，阻塞不好推动，也不想持续识别并推动了，移回Backlog。) 这种目标度量会给业务带来价值吗？它是否可以落实到具体的管理或技术实践中？</p><p>让度量指标和数据收集尽量真实，需要关注的是趋势和阻塞。</p><p>在上面的案例里，统计每个迭代完成的卡，需要观察其趋势，一般情况下，每个迭代完成的卡，会在一个合理的区间内波动。(好比：用听诊器测量每分钟的心跳，非运动状态在 60~100bpm 次/分钟 都属于正常) 观察趋势并识别阻塞和阻塞的原因，加以针对性的治理，从而加速卡的流动，是度量的意义。而不是简单的和其他团队比较，粗狂的设定一个目标，驱使团队产生未曾预料的结果。</p><p><img src=https://qe-community.github.io/images/FindEfficiencyIndicators2001.png alt=image>
图表标识：某团队24个迭代所完成故事点统计图</p><p>上图是一个项目24个迭代，每个迭代完成故事卡点数的统计图。由于团队所工作的业务领域没有变化，团队在此业务领域越来越熟练，所以总体交付趋势逐渐是上升的，交付速率逐步在一个合理区间内波动。观察并分析交付点数波动较大的迭代，分析并采取行动：</p><p><strong>迭代7到迭代8，单个故事卡过大，拆卡质量不高，沟通复杂性增加，单卡开发时长增加，速率下降。行动：开发人员与业务分析师紧密沟通，在工作开始时将其拆解成更独立，更小的故事卡。</strong></p><p><strong>迭代14到迭代15，由于开发过程中所依赖的第三方API出现问题，无法按时对接，有累计超过10个点的卡延迟交付，不能贡献给本迭代，但会在下个迭代第三方API完工后完成，并体现在下个迭代。行动：及时的沟通和追踪依赖系统的情况并进行开发任务的调整，防止阻塞与等待的发生。</strong></p><p>###观察和观点二：一个无法拆解的度量指标，可能不是一个好的度量指标。</p><p>可拆解的指标和结果才是一个好的指标。变更前置时长 (Lead time for change) 或者需求交付时长，是一个很好的结果性指标，能帮助并促进价值流的交付。但是你只是捕获需求提出的时间点和需求上线的时间点，并计算这两个点之间的耗时以此进行度量和阻塞识别，这是非常困难的。因为跨度太大，包括的因素太多，你很难看清楚到底发生了什么，到底在那个阶段什么因素导致了阻塞。</p><p><a href=https://en.wikipedia.org/wiki/DuPont_analysis>杜邦分析法</a> 就是问题拆解的经典应用，拆解某个不容易看清楚的大问题到若干个子问题，通过分析若干子问题从而解决原来的大问题。比如分析并优化股本回报率这个一下看不清楚的大问题，拆解: 股本回报率（ROE）= 利润率 × 资产周转率 × 权益乘数 = (净收入 / 营业收入) × (营业收入 / 资产) × (资产/ 股东权益) 从而将无法直接分析和优化的股本回报率，变得更容易分析和优化，同时再次钻取这些子问题，直到找出一个个更加显而易见的指标。
<img src=https://qe-community.github.io/images/FindEfficiencyIndicators2002.png alt=image>
图表标识：<a href=https://en.wikipedia.org/wiki/DuPont_analysis>杜邦分析模型</a>
<img src=https://qe-community.github.io/images/FindEfficiencyIndicators2003.jpg alt=image>
图表标识：<a href=https://wiki.mbalib.com/wiki/%E6%9D%9C%E9%82%A6%E5%88%86%E6%9E%90%E5%9B%BE>杜邦分析图</a></p><p>那么为什么可以借鉴杜邦分析法来拆解研发效能？因为研发效能也是一个不容易看清楚的大问题，需要拆解到若干个子问题，通过分析若干子问题从而解决原来的大问题，同时它是一个可分阶段度量拆解的指标，并且每阶段都可以再次细分、拆解。
<img src=https://qe-community.github.io/images/FindEfficiencyIndicators2004.png alt=image>
图表标识：需求交付时长拆解图</p><p>如上图，一个需求交付时长的拆解，通过不断的拆解找到更细化、具体的指标，找到优化点。 需求从提出到上线总花费时长为：21.5天 (工作日)=需求分析时长(2.5天)+需求设计时长(3.2天)+Backlog等待(0天)+需求交付时长(15.8天)；需求交付时长(15.8天)=团队研发时长(7.7天)/研发并行效率(48.5%)，如果只有一个团队，并行效率为100%；团队研发时长(7.7天)=需求开发时长(3.6天)+需求测试时长(1.3天)+发布前测试时长(1.2天)+金丝雀发布时长(1.1天)+全量发布时长(0.5天)。在上个迭代找类似大小的需求，同样拆解各个工序指标的时长、占比，从趋势角度观察各个指标是上升了还是下降了。如果上升了，比如需求设计时长(3.2天)比上迭代类似大小需求的占比上升了2.18%，原因是什么，是否需要注意并改进什么? 由于这次的一个需求点没有分析透彻，导致了设计多次反馈修改，耗时加长。所以当一个度量指标是一个可拆解的指标，它才可能是一个可落地到管理实践、技术实践的好指标。</p><p>###观察和观点三：可持续扩展的度量，才可能驱动价值流的增效。</p><p>研发效能的度量经常从一个比较全局的指标开始，因为比较全局的指标，能更直观的体现交付价值，比如：上文的 需求交付时长，但是不容易直观的看到问题，需要不断拆解，以此找到明确的问题点，把改进行动落地到管理实践、技术实践。与此同时指标也可以从局部开始，通过不断的扩展，驱动价值流增效。例如：起始的度量指标是《<a href=https://www.amazon.com/Accelerate-Software-Performing-Technology-Organizations/dp/1942788339>Accelerate</a>》中的 Lead time, 度量从代码提交到部署到生产环境的时长。 原文第二章 Measuring Performance:</p><p>“The elevation of lead time as a metric is a key element of Lean theory. Lead time is the time it takes to go from a customer making a request to the request being satisfied. However, in the context of product development, where we aim to satisfy multiple customers in ways they may not anticipate, there are two parts to lead time: the time it takes to design and validate a product or feature, and the time to deliver the feature to customers. In the design part of the lead time, it’s often unclear when to start the clock, and often there is high variability. For this reason, Reinertsen calls this part of the lead time the “fuzzy front end” (Reinertsen 2009). However, the delivery part of the lead time—the time it takes for work to be implemented, tested, and delivered—is easier to measure and has a lower variability.” Excerpt From: Forsgren PhD. “Accelerate.”</p><p>原文说明了完整的 lead time 是从客户提出需求到功能上线的时间，但是由于需求分析、设计的起始时间不确定性大，难以统计，所以从确定性大的交付阶段开始统计，同时《<a href=https://www.amazon.com/Accelerate-Software-Performing-Technology-Organizations/dp/1942788339>Accelerate</a>》这本书也是主打DevOps工程实践，更关注此方面的度量和指标。可以从这个指标开始，但是不应就此停留在这一阶段，这一阶段的耗时少了，说明团队的工程实践强，有完善的CI/CD，但不一定快速的响应了客户的需求。所以需要持续扩展度量，驱动价值流增效。</p><p>实际案例：团队度量了 lead time: 10分钟左右就从代码提交部署到生产环境了，但是观察发现一个功能的好几个代码提交等了几天才被部署，后来发现代码提交后，进入了 pull request，没有及时被客户团队 review 合并到 master 主分支，没有触发 pipeline，所以等了几天。团队自己的 pull request 都被很快 review 合并了。此时团队扩展 lead time 的度量，起始时间从合并到主分支这个时间点，左移到 pull request 里的第一个提交，通过度量找到了和客户团队合作 pull request review 过程中可以优化的点，加速 pull request 的过程。后来 lead time 的起始时间又被进一步左移，移动到了Story卡被移进 开发 列的时间，当Story被移进 开发 列就代表此功能的 lead time 开始计时了，从而了解开发过程中是否有和BA、QA沟通中的阻塞，有可优化的点。如果开发的功能被 feature toggle 所保护，在代码提交并部署上线后，feature toggle 没有被打开，也可以将 lead time 的结束时间右移，计算为feature toggle打开的时间点，可以分析是否业务决策的时间过长影响了功能上线。</p><p>以上的三个观察和观点：</p><blockquote><p>莫让度量变目标。让度量指标和数据收集尽量真实，需要关注的是趋势和阻塞。</p></blockquote><blockquote><p>一个无法拆解的度量指标，可能不是一个好的度量指标。</p></blockquote><blockquote><p>可持续扩展的度量，才可能驱动价值流的增效。</p></blockquote><p>希望能在您使用研发效能的指标与度量过程中带来帮助，通过设定的指标和对应的度量，找到软件研发过程中的阻塞，从而制定对应的行动，有效的落地到管理实践和技术实践。</p><div class=post_extra><div class=copy data-share=Copy data-copied=Copied><svg><use xlink:href="#copy"/></svg></div></div><div class=author><a href=/authors/zhangsichu target="张思楚's profile" class=author_pic><img src=/images/avatar_zhangsichu.png alt></a><div class=author_meta><a class=author_name href=/authors/zhangsichu>张思楚</a><p class="pale author_bio solo">ThoughtWorks Technical Principal</p></div></div></article><aside><h3>More from Quality & Efficiency</h3><ul class="posts aside"><li class=post_item><a class=post_card href=https://qe-community.github.io/posts/findefficiencyindicatorsthree/ title=寻找软件研发效能的合适指标-下篇 style=background-image:url(https://qe-community.github.io/images/thumbnail.svg)></a><div class=excerpt><div class=excerpt_meta><div class=copy data-share=Copy data-copied=Copied><svg><use xlink:href="#copy"/></svg></div></div><h3 class=post_link><a href=https://qe-community.github.io/posts/findefficiencyindicatorsthree/>寻找软件研发效能的合适指标-下篇</a></h3><p class=pale>本文由张思楚发表 本系列的 上篇 咱们尝试回答了最近几年 “软件研发效能” 为什么会成为业界的热词 “Buzzword” ，有哪些合适的软件研发效能度量指标这两个问题。中篇 分析了 …</p></div></li><li class=post_item><a class=post_card href=https://qe-community.github.io/posts/reducestoryrework/ title=改进故事卡返工率 style=background-image:url(https://qe-community.github.io/images/thumbnail.svg)></a><div class=excerpt><div class=excerpt_meta><div class=copy data-share=Copy data-copied=Copied><svg><use xlink:href="#copy"/></svg></div></div><h3 class=post_link><a href=https://qe-community.github.io/posts/reducestoryrework/>改进故事卡返工率</a></h3><p class=pale>名词解释： AC：全称为Acceptance Criteria，即验收标准，写在每张故事卡上，代表每张卡需要进行验证的具体测试场景和测试点。
Kick off：Dev在进行开发之 …</p></div></li></ul></aside></div><script src=https://qe-community.github.io/js/autosize.min.js></script><script src=https://qe-community.github.io/js/timeago.js></script></main><svg width="0" height="0" class="hidden"><symbol viewBox="0 0 699.428 699.428" xmlns="http://www.w3.org/2000/svg" id="copy"><path d="M502.714.0H240.428C194.178.0 153 42.425 153 87.429l-25.267.59c-46.228.0-84.019 41.834-84.019 86.838V612c0 45.004 41.179 87.428 87.429 87.428H459c46.249.0 87.428-42.424 87.428-87.428h21.857c46.25.0 87.429-42.424 87.429-87.428v-349.19zM459 655.715H131.143c-22.95.0-43.714-21.441-43.714-43.715V174.857c0-22.272 18.688-42.993 41.638-42.993l23.933-.721v393.429C153 569.576 194.178 612 240.428 612h262.286c0 22.273-20.765 43.715-43.714 43.715zm153-131.143c0 22.271-20.765 43.713-43.715 43.713H240.428c-22.95.0-43.714-21.441-43.714-43.713V87.429c0-22.272 20.764-43.714 43.714-43.714H459c-.351 50.337.0 87.975.0 87.975.0 45.419 40.872 86.882 87.428 86.882H612zm-65.572-349.715c-23.277.0-43.714-42.293-43.714-64.981V44.348L612 174.857zm-43.714 131.537H306c-12.065.0-21.857 9.77-21.857 21.835s9.792 21.835 21.857 21.835h196.714c12.065.0 21.857-9.771 21.857-21.835.0-12.065-9.792-21.835-21.857-21.835zm0 109.176H306c-12.065.0-21.857 9.77-21.857 21.834.0 12.066 9.792 21.836 21.857 21.836h196.714c12.065.0 21.857-9.77 21.857-21.836.0-12.064-9.792-21.834-21.857-21.834z"/></symbol><symbol viewBox="0 0 60.015 60.015" xmlns="http://www.w3.org/2000/svg" id="reply"><path d="M42.007.0h-24c-9.925.0-18 8.075-18 18v14c0 9.59 7.538 17.452 17 17.973v8.344a1.694 1.694.0 001.699 1.698c.44.0.873-.173 1.198-.498l1.876-1.876C26.708 52.713 33.259 50 40.227 50h1.78c9.925.0 18-8.075 18-18V18c0-9.925-8.075-18-18-18zm16 32c0 8.822-7.178 16-16 16h-1.78c-7.502.0-14.556 2.921-19.86 8.226l-1.359 1.359V44a1 1 0 10-2 0v3.949c-8.356-.52-15-7.465-15-15.949V18c0-8.822 7.178-16 16-16h24c8.822.0 16 7.178 16 16v14z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="scan"><path d="M456.66.0H385c-8.284.0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174.0 456.66.0zM15 142c8.284.0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284.0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826.0.0 24.826.0 55.341V127c0 8.284 6.716 15 15 15zm112 340H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284.0 15-6.716 15-15s-6.716-15-15-15zm370-112c-8.284.0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284.0-15 6.716-15 15s6.716 15 15 15h71.66c30.515.0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497.0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284.0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284.0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 4e2h-47.575c-6.497.0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284.0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284.0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284.0 15-6.716 15-15s-6.716-15-15-15H16c-8.284.0-15 6.716-15 15z"/></symbol></svg><footer class=footer><div class="footer_inner wrap pale"><p>To keep in touch with us, please favorite the 微信公众号: QE自由行</p><p>&copy;&nbsp;<span class=year></span>&nbsp;Quality & Efficiency.
Designed by <a href=https://www.linkedin.com/in/dan-weru-profile/ title="Linkedin Profile">Weru</a></p></div></footer><script type=text/javascript src=https://qe-community.github.io/js/bundle.2c9083439cdb95cbf95784e280dd2dba49560ad482acbef619107e3786561d5f03cb5ecde22721a175426cc206f686d36c5bbc207c714cd9bd37f0bf996c55af.js integrity="sha512-LJCDQ5zblcv5V4TigN0tuklWCtSCrL72GRB+N4ZWHV8Dy17N4ichoXVCbMIG9obTbFu8IHxxTNm9N/C/mWxVrw==" crossorigin=anonymous></script></body></html>